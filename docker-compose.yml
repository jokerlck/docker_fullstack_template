version: "3"

services:
  backend:
    build: ./backend
    container_name: micro_rdapps_backend_compose_docker_container
    volumes:
      - ./backend:/rchk_app_production/back-end/
    ports:
      - '3080:3080'
  frontend:
    build: ./frontend
    container_name: micro_rdapps_frontend_compose_docker_container
    volumes:
      - ./frontend:/rchk_app_production/front-end/
    ports:
      - '3081:8080'
  nginx:
    build: ./nginx
    container_name: micro_rdapps_nginx_docker_container
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./nginx/rdapps.conf:/etc/nginx/conf.d/rdapps.conf
      - ./frontend:/rchk_app_production/front-end/
    ports:
      - '6999:80'
